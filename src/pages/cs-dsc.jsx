import React, { useState, useEffect } from "react";
import { Helmet } from "react-helmet";

import Logo from "../components/common/logo";
import Footer from "../components/common/footer";
import NavBar from "../components/common/navBar";
import INFO from "../data/user";

import "./styles/cs-page.css"

const CSDSC = () => {

	const [stayLogo, setStayLogo] = useState(false);
	const [logoSize, setLogoSize] = useState(70);
	const [oldLogoSize, setOldLogoSize] = useState(70);

    useEffect(() => {
		window.scrollTo(0, 0);
	}, []);

	useEffect(() => {
		const handleScroll = () => {
			let scroll = Math.round(window.scrollY, 2);

			let newLogoSize = 70 - (scroll * 4) / 10;

			if (newLogoSize < oldLogoSize) {
				if (newLogoSize > 40) {
					setLogoSize(newLogoSize);
					setOldLogoSize(newLogoSize);
					setStayLogo(false);
				} else {
					setStayLogo(true);
				}
			} else {
				setLogoSize(newLogoSize);
				setStayLogo(false);
			}
		};

		window.addEventListener("scroll", handleScroll);
		return () => window.removeEventListener("scroll", handleScroll);
	}, [logoSize, oldLogoSize]);

	const logoStyle = {
		display: "flex",
		position: stayLogo ? "fixed" : "relative",
		top: stayLogo ? "3vh" : "auto",
		zIndex: 999,
		border: "2px solid var(--tertiary-color)",
		borderRadius: stayLogo ? "50%" : "none",
		boxShadow: stayLogo ? "0px 4px 10px rgba(0, 0, 0, 0.25)" : "none",
	};

	return (
		<React.Fragment>
			<Helmet>
				<title>{`Client Site: David & Sons Collision | ${INFO.main.title}`}</title>
			</Helmet>

			<div className="page-content">
				<NavBar active="work" />
				<div className="content-wrapper">
					<div className="cs-logo-container">
						<div className="cs-logo" style={logoStyle}>
							<Logo width={logoSize} />
						</div>
					</div>

					<div className="cs-container">
						<div className="title">
							Client Site: David & Sons Collision
						</div>

						<div className="subtitle cs-subtitle">
							A bold, service-focused website created for an auto body and collision repair shop, this project was designed to highlight repair expertise, streamline appointment booking, 
							and drive local customer engagement through targeted SEO strategies.
						</div>

                        <div className="cs-main">

							<div className="cs-right-side">
								<div className="title cs-title">
									Website Features
								</div>

								<div className="subtitle cs-subtitle-desc">
									The website’s design emphasizes durability, trust, and professionalism—qualities essential to a collision repair shop. 
								</div>

								<div className="subtitle cs-subtitle-desc">
									A major feature is the online booking form, which allows customers to easily request repair estimates, upload photos of vehicle damage, and schedule service appointments. 
									I also built a repair gallery that showcases before-and-after images of past work, giving potential clients a visual sense of the shop’s capabilities and attention to detail.
								</div>

								<div className="subtitle cs-subtitle-desc">
									The site includes detailed service pages for common repairs like dent removal, paint correction, and insurance claim work, helping users understand offerings at a glance. 
									Built with a mobile-first mindset, the site delivers smooth performance across all devices and screen sizes, allowing on-the-go users to quickly get in touch after an accident.
								</div>
							</div>

							<div className="cs-left-side">
								<div className="cs-image-container">
									<div className="cs-image-wrapper">
										<img
											src="dsc1.png"
											alt="example1"
											className="cs-image"
										/>
									</div>
								</div>
							</div>

						</div>

                        <div className="cs-main cs-main-rev">

							<div className="cs-left-side">
                                <div className="cs-image-container">
									<div className="cs-image-wrapper">
										<img
											src="dsc2.png"
											alt="example2"
											className="cs-image"
										/>
									</div>
								</div>
							</div>

							<div className="cs-right-side cs-rev">
                                <div className="title cs-title cs-title-rev">
									SEO & Optimization
								</div>

								<div className="subtitle cs-subtitle-rev">
									To ensure David & Sons Collision appears prominently in local search results, I applied SEO best practices focused on auto repair and collision-specific keywords with geo-targeting. 
									Meta tags, page titles, and content were carefully optimized for local visibility, and image metadata was included for better indexing of the repair gallery.
								</div>

								<div className="subtitle cs-subtitle-rev">
									On the technical side, performance tuning such as compressed image assets, lazy loading, and script minification was implemented to improve loading speeds and enhance search engine performance. 
									These improvements help the site rank well in competitive local markets, attract qualified traffic, and convert visitors into customers.
								</div>
							</div>
						</div>
					</div>
					<div className="page-footer">
							<Footer />
					</div>
				</div>
			</div>
		</React.Fragment>
	);
};

export default CSDSC;